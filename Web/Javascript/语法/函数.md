# 函数

## 1、function

本质是声明了一个函数变量。

在顶层作用域中声明的函数，成为顶层对象的属性。

## 2、声明作用域

##### ES5

ES5规定，函数只能在顶层作用域和函数作用域中声明，并会提升到对应作用域的顶部。

非严格模式下，块级作用域声明的函数会提升到函数作用域。严格模式下产生编译错误。

##### ES6

ES6规定，函数可以在顶层作用域、函数作用域和块级作用域中声明，并会提升到对应作用域的顶部。其中块级作用域必须使用大括号。

但是，浏览器下可以不遵守此项规定，而按照：
- 允许在块级作用域内声明函数
- 提升到函数作用域或全局作用域顶部

## 3、参数

在函数内部可以使用`arguments`获取所有参数，返回的是一个类数组。

### （1）参数解构

数组或对象参数可以解构为变量。

```
//函数参数是一个数组，但函数实现时已经解构为变量x和y
function add([x, y]){
    return x + y;    
}

add([1, 2]); // 3
```

解构允许默认值，注意与参数默认值区分。

```
//解构默认值为x=0, y=0，参数默认值为{}
function move({x = 0, y = 0} = {}) {
  return [x, y];
}

move({x:3, y:8}); // [3, 8]
move({x:3}); // [3, 0]
move({}); // [0, 0]
move(); // [0, 0]
```

```
//没有解构默认值，参数默认值为{x:0, y:0}
function move({x, y} = {x:0, y:0}) {
  return [x, y];
}

move({x:3, y:8}); // [3, 8]
move({x:3}); // [3, undefined]
move({}); // [undefined, undefined]
move(); // [0, 0]
```