# vim

## 格式
`vim [options] [file]`

## 参数
- `+` 启动后光标处于最末行。
- `+<n>` 启动后光标处于第n行。

## 插入模式
- `ESC` 进入命令模式
- `↑↓←→` 移动光标

## 命令模式
- 模式切换
    - `:`   进入末行模式
    - `i`   进入插入模式
    - `R`   进入插入模式（替换）
    - `a`   从光标所在位置之后追加文本，进入插入模式
    - `gi`  进入上一次插入模式的位置
- 光标移动与插入
    - 字符操作
        - `↑↓←→`    移动光标
        - `h`   左移光标
        - `k`   上移光标
        - `l`   右移光标
        - `j`   下移光标
    - 行操作
         - `0`   移到当前行的行首
         - `I`   移到当前行的行首，进入插入模式
         - `$`   移到当前行的行尾
         - `A`   移到当前行的行尾，进入插入模式
         - `O`   在光标所在行的上面插入一行，光标位于该行行首等待输入文本，进入插入模式
         - `o`   在光标所在行的下面插入一行，光标位于该行行首等待输入文本，进入插入模式
         - `-`   移到上一行的行首
         - `+`   移到下一行的行首
         - `gg` 移到第一行行首 
         - `G`   移到最后一行行首
         - `<n>G`   移到第n行行首
         - `H`   移到当前屏幕第一行的行首
         - `<n>H`   移到当前屏幕第n行的行首
         - `M`   移到当前屏幕中间行的行首
         - `L`   移到当前屏幕最后一行的行首
         - `^`   移到当前行首开始的第一个非空白字符
    - 屏幕操作
        - `Ctrl+u`   将屏幕向文件头方向翻滚半屏
        - `<n>Ctrl+u`   将屏幕向文件头方向翻滚n行
        - `Ctrl+b`   将屏幕向文件头方向翻滚一整屏
        - `<n>Ctrl+b`   将屏幕向文件头方向翻滚n屏
        - `PgUp`   将屏幕向文件头方向翻滚一整屏
        - `<n>PgUp`   将屏幕向文件头方向翻滚n屏
        - `Ctrl+d`   将屏幕向文件尾方向翻滚半屏
        - `<n>Ctrl+d`   将屏幕向文件尾方向翻滚n行
        - `Ctrl+f`   将屏幕向文件尾方向翻滚一整屏
        - `<n>Ctrl+f`   将屏幕向文件尾方向翻滚n屏
        - `PgDn`   将屏幕向文件尾方向翻滚一整屏
        - `<n>PgDn`   将屏幕向文件尾方向翻滚n屏
        - `z Enter`   将当前行置为屏幕的顶行
        - `<n>z Enter`   将第n行置为屏幕的顶行
        - `z.`   将当前行置为屏幕的中央
        - `<n>z.`   将第n行置为屏幕的中央
        - `z-`   将当前行置为屏幕的底行
        - `<n>z-`   将第n行置为屏幕的底行
    - 单词操作
        - `b`   移到当前单词的词首，已经在词首的，移到前一个单词的词首
        - `e`   移到当前单词的词尾，已经在词尾的，移到下一个单词的词尾
        - `<n>b`   左移n个单词
        - `w`   右移到下一个单词的词首
        - `<n>w`   右移n个单词
    - 句操作
        - `(`   移到本句句首，如果已经处于句首，则移到前一句句首
        - `)`   移到下一句句首
    - 段操作
        - `{`   移到当前段段首，如果已经处于段首，则移到前移段段首
        - `}`   移到下一段段首
- 删除
    - 删除字符
        - `x`   删除当前字符
        - `dh`   删除前一个字符
    - 删除行
        - `dd`   删除当前行
        - `<n>d`   删除从当前行开始的连续n行
        - `d0`   删除从前一个字符开始到行首的所有字符
        - `d$`   删除从当前字符开始到行尾的所有字符
        - `dH`   删除从当前行到屏幕首行的内容
        - `dM`   删除从当前行到屏幕中间的内容
        - `dL`   删除从当前行到屏幕底行的内容
    - 删除单词
        - `dw`   删除当前单词
        - `db`   删除前一个单词
    - 删除句
        - `d(`   从当前字符开始删除到句首
        - `d)`   从当前字符开始删除到句尾
    - 删除段
        - `d}`   从当前字符开始删除到段尾
        - `d{`   从当前字符开始删除到段首
    - 替换
        - 字符替换
            - `r<ch>`   用字符ch替代当前字符
            - `s`   删除当前字符，进入插入模式
        - 行替换
            - `S`   删除当前行，进入插入模式
            - `<n>S`   删除当前行开始的n行，进入插入模式
            - `J`   合并当前行与下一行
            - `<n>J`   合并当前行开始的n行
            - `C`  删除当前行当前光标开始的部分，并进入插入模式，同`c$`
        - 组合替换
            - `ciw` 删除当前单词，并进入插入模式
            - `caw` 删除当前单词以及前后空白，并进入插入模式
            - `cw`  删除当前单词当前光标开始的部分，并进入插入模式
            - `cc`  删除当前行，并进入插入模式
            - `c0`  删除当前行当前光标之前的部分，并进入插入模式
            - `c^`  删除当前行当前光标之前的部分，但保留行首的空白字符，并进入插入模式
            - `c$`  删除当前行当前光标开始的部分，并进入插入模式
            - `ci"` 删除当前`"`之间的内容，并进入插入模式
            - `ci'` 删除当前`'`之间的内容，并进入插入模式
            - `ci)` 删除当前`()`之间的内容，并进入插入模式
            - `ci]` 删除当前`[]`之间的内容，并进入插入模式
            - `ci}` 删除当前`{}`之间的内容，并进入插入模式
            - `cit` 删除当前xml tag中的内容，并进入插入模式
            - `cis` 删除当前句，并进入插入模式
            - `c2w` 删除当前光标开始和下一个单词的内容，并进入插入模式
            - `ct(` 删除到下一个`(`前，并进入插入模式
- 查找
    - `? <pattern>`   进入末行模式，向文件头方向查找符合该模式的文本
    - `/ <pattern>`   进入末行模式，向文件尾方向查找匹配的文本
    - `n`   搜索下一个匹配的字符串
    - `N`   逆向搜索下一个匹配的字符串
- 复制与粘贴
    - 行复制
        - `yy`   将当前行复制
        - `<n>yy`   将当前行开始的n行复制
    - 单词复制
        - `yw`   将当前位置到词尾的字符复制
        - `<n>yw`   将当前位置开始的n个单词复制
    - 粘贴
        - `p`   粘贴
- 撤销与重做
    - `u`   撤销上一次操作，可连续撤销
    - `U`   把当前行恢复成编辑前的状态
    - `Ctrl+r`   重做
- 其他
    - `.`   重复上一次命令
    - `Ctrl+g`   在状态行上显示状态信息
    - `help`   帮助信息
    - `version`   显示版本等信息
    - `ZZ`   保存并退出

## 末行模式
- 保存与退出
    - `q`   退出。若文件没有保存，给出警告
    - `q!`   不保存而直接退出
    - `w`   保存
    - `w <file>`   保存到文件file中，如果file已存在，给出警告
    - `w! <file>`   保存到文件file中，如果file已存在，则覆盖
    - `wq`   保存并退出
    - `x`   保存并退出
- 行号
    - `set nonu`   隐藏行号
    - `set nonumber`   隐藏行号
    - `set nu`   显示行号
    - `set number`   显示行号
- 模式
    - `view`   进入只读模式
- 查找
    - `? <pattern>`   向文件头方向查找匹配的文本
    - `/ <pattern>`   向文件尾方向查找匹配的文本
