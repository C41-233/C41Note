# 分支

## 创建分支

``` SHELL
$ git branch demo
```

## 删除分支

``` SHELL
# 删除已合并分支。
$ git branch -d demo

# 删除未合并分支。
$ git branch -D demo
```
# 删除远程分支
``` SHELL
# 删除远程分支demo
$ git push origin --delete demo
```

## 跟踪分支
将本地分支与远程分支关联。

``` SHELL
# 关联本地分支demo与远程分支demo。
$ git branch --set-upstream-to=origin/demo demo

# 关联本地分支demo与远程分支demo。
$ git branch -u origin/demo
```

当设置好跟踪分支后，可以通过`@{upstream}`或`@{u}`来引用远程分支。 所以当前分支master正在跟踪 `origin/master`时，`git merge @{u}`等价于`git merge origin/master`。

## 切换分支

切换分支。
``` SHELL
$ git checkout demo
```

创建并切换分支。
``` SHELL
$ git checkout -b demo
```

拉取远程分支，创建并切换到对应的本地分支。

``` SHELL
# 拉取远程分支demo，创建并切换到本地分支test
$ git checkout -b test origin/demo

# 拉取远程分支demo，创建并切换到本地分支demo
$ git checkout --track origin/demo
```

## 合并分支
合并指定分支到当前分支。

提交合并指以一次commit的方式合并。当不存在冲突时，git会自动创建一个提交。

Fast forward合并指直接修改当前分支指针到目标分支版本，历史记录中没有合并记录。当目标分支版本是当前分支版本的直接上游时适用。

``` SHELL
# 合并分支demo到当前分支。
$ git merge demo

# 以提交方式合并，禁用Fast forward。
$ git merge --no-ff -m "comment" demo
```

## rebase

``` SHELL
$ git rebase
```

## 查看分支

查看分支列表，以*标记当前分支。

- `-v` 查看每个分支的最后一次提交。
- `-vv` 查看设置的所有跟踪分支。
- `--merged` 查看已经合并到当前分支的分支。
- `--no-merged` 查看未合并到当前分支的分支。

``` SHELL
$ git branch
```
