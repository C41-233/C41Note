# 寄存器

### 一、通用寄存器

##### AL AH AX EAX RAX

通用累加寄存器。

其中RAX占64位，EAX占32位，AX占16位，AL和AH占8位。

AH和AL分别是AX的高8位和低8位，AX是EAX的低16位，EAX是RAX的低32位。

该寄存器通常用作函数返回值。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RAX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">EAX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">AX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1">AH</th>
		<th colspan="1">AL</th>
	</tr>
</table>

##### BL BH BX EBX RBX

通用基址寄存器。

其中RBX占64位，EBX占32位，BX占16位，BL和BH占8位。

BH和BL分别是BX的高8位和低8位，BX是EBX的低16位，EBX是RBX的低32位。

x64体系下RBX寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。

<table>
    <thead><tr>
    	<th colspan="4">[63-32]</th>
    	<th colspan="2">[31-16]</th>
    	<th colspan="1">[15-8]</th>
    	<th colspan="1">[7-0]</th>
    </tr></thead>
    <tr>
    	<th colspan="8">RBX</th>
    </tr>
    <tr>
    	<th colspan="4"></th>
    	<th colspan="4">EBX</th>
    </tr>
    <tr>
    	<th colspan="4"></th>
    	<th colspan="2"></th>
    	<th colspan="2">BX</th>
    </tr>
    <tr>
    	<th colspan="4"></th>
    	<th colspan="2"></th>
    	<th colspan="1">BH</th>
    	<th colspan="1">BL</th>
    </tr>
</table>

##### CL CH CX ECX RCX
通用基址寄存器。

其中RCX占64位，ECX占32位，CX占16位，CL和CH占8位。

CH和CL分别是CX的高8位和低8位，CX是ECX的低16位，ECX是RCX的低32位。

x64体系下RCX寄存器用来传递函数的第4个参数。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RCX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">ECX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">CX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1">CH</th>
		<th colspan="1">CL</th>
	</tr>
</table>

##### DL DH DX EDX RDX
通用数据寄存器。

其中RDX占64位，EDX占32位，DX占16位，DL和DH占8位。

DH和DL分别是DX的高8位和低8位，DX是EDX的低16位，EDX是RDX的低32位。

x64体系下RDX寄存器用来传递函数的第3个参数。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RDX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">EDX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">DX</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1">DH</th>
		<th colspan="1">DL</th>
	</tr>
</table>

##### R8B R8W R8D R8
x64体系下新增的通用寄存器。

R8寄存器用来传递函数的第5个参数。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R8</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R8D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R8W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R8B</th>
	</tr>
</table>

##### R9B R9W R9D R9

x64体系下新增的通用寄存器。

R8寄存器用来传递函数的第6个参数。
<table class="register">
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R9</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R9D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R9W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R9B</th>
	</tr>
</table>

##### R10B R10W R10D R10
x64体系下新增的通用寄存器。

R10寄存器遵循调用者使用规则，子函数在使用前需要保存该寄存器的值，使用后应当恢复。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R10</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R10D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R10W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R10B</th>
	</tr>
</table>

##### R11B R11W R11D R11
x64体系下新增的通用寄存器。

R11寄存器遵循调用者使用规则，子函数在使用前需要保存该寄存器的值，使用后应当恢复。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R11</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R11D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R11W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R11B</th>
	</tr>
</table>

##### R12B R12W R12D R12
x64体系下新增的通用寄存器。

R12寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。
<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R12</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R12D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R12W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R12B</th>
	</tr>
</table>

##### R13B R13W R13D R13
x64体系下新增的通用寄存器。

R13寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。
<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R13</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R13D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R13W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R13B</th>
	</tr>
</table>

##### R14B R14W R14D R14
x64体系下新增的通用寄存器。

R14寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R14</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R14D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R14W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R14B</th>
	</tr>
</table>

##### R15B R15W R15D R15
x64体系下新增的通用寄存器。

R15寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">R15</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">R15D</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">R15W</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">R15B</th>
	</tr>
</table>

### 二、段寄存器

##### CS
16位专用代码段寄存器。

存放当前正在运行的程序代码所在段的段基址，表示当前使用的指令代码可以从该段寄存器指定的存储器段中取得，相应的偏移量则由IP提供。

##### DS
16位专用数据段寄存器。

存放当前程序使用的数据所存放段的基址。

##### ES
16位专用附加段寄存器。

指出当前程序使用附加数据段的段基址，该段是串操作指令中目的串所在的段。

##### FS
16位专用标志段寄存器。

##### GS
16位专用全局段寄存器。

##### SS
16位专用栈段寄存器。

指出当前堆栈的底部地址，即存放堆栈段的段基址。

### 三、指针寄存器

##### BPL BP EBP RBP
专用基址指针寄存器。

当寻址地址包括BP寄存器时，段寄存器默认为SS寄存器。

x64体系下RBP寄存器遵循被调用者使用规则，调用子函数前需要保存该寄存器的值。

BPL寄存器只能在x64体系下使用。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RBP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">EBP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">BP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">BPL</th>
	</tr>
</table>

##### SPL SP ESP RSP
专用栈指针寄存器，指向当前栈顶。

SPL寄存器只能在x64体系下使用。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RSP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">ESP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">SP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">SPL</th>
	</tr>
</table>

##### DIL DI EDI RDI
专用目的变址寄存器。

DIL寄存器只能在x64体系下使用。

x64体系下RDI寄存器用来传递函数的第1个参数。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RDI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">EDI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">DI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">DIL</th>
	</tr>
</table>

##### SIL SI ESI RSI
专用源变址寄存器。

SIL寄存器只能在x64体系下使用。

x64体系下RSI寄存器用来传递函数的第2个参数。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="1">[15-8]</th>
		<th colspan="1">[7-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RSI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">ESI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">SI</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="1"></th>
		<th colspan="1">SIL</th>
	</tr>
</table>

##### IP EIP RIP
专用指令偏移寄存器。

<table>
	<thead><tr>
		<th colspan="4">[63-32]</th>
		<th colspan="2">[31-16]</th>
		<th colspan="2">[15-0]</th>
	</tr></thead>
	<tr>
		<th colspan="8">RIP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="4">EIP</th>
	</tr>
	<tr>
		<th colspan="4"></th>
		<th colspan="2"></th>
		<th colspan="2">IP</th>
	</tr>
</table>

### 四、标志寄存器

##### FR EFR

标志寄存器，存储程序状态字，不可以在指令中直接访问。

大部分算术逻辑运算影响标志位，数据传送指令不影响标志位。

<table>
	<thead><tr>
		<th colspan="1">[31-16]</th>
		<th colspan="1">[15-0]</th>
	</tr></thead>
	<tr>
		<th colspan="2">EFR</th>
	</tr>
	<tr>
		<th colspan="1"></th>
		<th colspan="1">FR</th>
	</tr>
</table>