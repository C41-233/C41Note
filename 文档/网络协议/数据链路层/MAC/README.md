# MAC

Media Access Control

媒体访问控制

## MAC地址

MAC地址用于标识以太网物理设备，每个网卡都有唯一的MAC地址，由网络设备制造商在生产时写入硬件中。MAC地址共48位，通常表示为6个16进制字节，例如00-16-EA-AE-3C-40。

IEEE的注册管理机构（RA）是局域网全球地址的法定管理机构，负责分配MAC地址字段的前三个字节（高24位），作为组织唯一标识符（OUI）。后三个字节（低24位）由厂家自行分配，作为扩展标识符。

MAC地址第一位（第一字节的最低位）是I/G位，0表示单个站地址；1表示组地址，用于多播。

MAC地址第二位（第一字节的第二最低位）是G/L位，1表示全球管理，0表示本地管理。

![](1.png)

多播MAC地址范围为01-00-5e-00-00-00至01-00-5e-7f-ff-ff，多播MAC地址的低23位与多播IP地址的低23位相同。由于IP多播组ID有28位，因此多播MAC地址可能对应多个多播IP地址。

广播MAC地址位全为1，即ff-ff-ff-ff-ff-ff。

## MAC帧格式

MAC帧以太网封装格式（RFC 894）
字节	7	1	6	6	2	46—1500	4
字段	前同步码
0xAAAAAAAAAAAAAA	帧开始定界符
0xAB	目的MAC地址	源MAC地址	类型	数据	FCS
字段	描述
类型	标识上层协议
数据	小于46字节时，在数据字段后插入填充字段
FCS	帧检验序列，使用CRC检验
MAC帧IEEE 802.2/802.3封装格式（RFC 1042）
字节	7	1	6	6	2	1	1	1	3	2	38-1492	4
字段	前同步码
0xAAAAAAAAAAAAAA	帧开始定界符
0xAB	目的MAC地址	源MAC地址	长度	DSAP
0xAA	SSAP
0xAA	Ctrl
0x03	Org Code
0x000000	类型	数据	FCS
字段	描述
类型	标识上层协议
长度	指后续字节数，不包括FCS
数据	小于38字节时，在数据字段后插入填充字段
FCS	帧检验序列，使用CRC检验
三、帧协议类型
0x0800	IP数据报
0x0806	ARP
0x8035	RARP
0x8137	Novell IPX