# HTTP请求头部

#### Accept

表示客户端接受的MIME类型，用`*`表示接受任意类型。多个MIME类型之间用逗号分隔，MIME类型可以带参数，用分号分隔。

参数`q`表示优先级，默认值为1，0表示不可接受。

```
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
```

#### Accept-Charset

客户端可以使用的字符集，用`*`表示接受任意字符集。多个字符集之间用逗号分隔，字符集可以带参数，用分号分隔。

参数`q`表示优先级，默认值为1，0表示不可接受。

请求报文不包含Accept-Charset时，表示可以接受任意字符集。如果服务端无法提供Accept-Charset指定的字符集时，应当返回406。

```
Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3
```

#### Accept-Encoding

客户端能够处理的编码类型，用`*`表示接受任意编码类型。多个编码类型之间用逗号分隔，编码类型可以带参数，用分号分隔。

参数`q`表示优先级，默认值为1，0表示不可接受。

常用的编码类型有：
- br：Brotli压缩
- compress：unix档案压缩格式（LZW）
- deflate：zlib压缩
- gzip：gzip压缩（LZ77）
- identity：不进行编码

```
Accept-Encoding: gzip, deflate
```

#### Accept-Language

客户端支持的语言，用`*`表示接受任意语言。多个语言之间用逗号分隔，语言可以带参数，用分号分隔。

参数`q`表示优先级，默认值为1，0表示不可接受。

```
Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3
```

#### Authorization

授权信息，格式为：`<type> <credentials>`

支持验证类型包括：
- Basic：RFC7617
- Bearer：RFC6750
- Digest：RFC7616	
- HOBA：RFC7486
- Mutual：RFC8120	
- Negotiate：RFC4559
- OAuth：RFC5849
- SCRAM-SHA-1：RFC7804	
- SCRAM-SHA-256：RFC7804
- vapid：RFC8292

常见的验证类型是基本验证（Basic），对应的验证信息是`Base64(username:password)`。

浏览器初次请求时没有包含授权信息，服务端会返回401。随后浏览器要求用户输入用户名和密码，携带Authorization头后再次发送请求。之后所有的请求都带上Authorization。

由于Authorization在头部中几乎以明文形式存在，并不能保证安全。

```
Authorization: Basic YXV0aG9yOnBoaWw=
```

#### Cache-Control

缓存控制策略，浏览器和代理服务器可以对资源进行缓存，从而减少访问。

###### no-cache

不要使用缓存，直接向目标服务器请求。

###### no-store	

不要使用缓存，且不要存储缓存。

###### max-age=<xxx>	

希望收到资源的最大缓存时间，单位是秒。

指定max-age=0时，表示不使用缓存。

###### max-stale=<xxx>

可以接收超过max-age的资源，但最大不超过max-stale设置的时间，单位为秒。

###### min-fresh=<xxx>	

告知代理服务器客户端希望接收的资源在指定时间内被更新过，单位为秒。

###### no-transform	

告知代理服务器传输数据时不要进行转换（例如压缩）。

###### only-if-cached	

告知代理服务器只返回缓存。如果代理服务器的本地无缓存，则返回504。

```
Cache-Control: max-age=0
```

#### Connection

客户端是否能够处理持续HTTP连接。

- close：在完成本次请求的响应后，断开TCP连接（HTTP/1.0默认）。
- keep-alive：在完成本次请求的响应后，保持TCP连接，后续请求继续在当前TCP连接进行（HTTP/1.1默认）。

```
Connection: keep-alive
```

```
Connection: close
```

#### Content-Length	

请求正文的数据字节数（传输长度）。HTTP服务器依靠Content-Length解析消息正文。

当存在Transfer-Encoding时，不得包含Content-Length。

```
Content-Length: 128
```

#### Content-Type	

请求正文的MIME类型。

```
Content-Type: application/x-www-form-urlencoded
```

#### Cookie

请求报文中携带的cookie。格式为`<name>=<value>`的cookie列表，每个cookie之间用分号`;`分隔。

```
Cookie: FG=1;BD_HOME=1;sug=3;sugstore=1;ORIGIN=2;bdime=0
```	
	